{
    "version": "0.0.1",
    "id": "heat3",
    "use_case": "HELCOM HEAT HOLAS",
    "title": {"en": "Reproducing HEAT HOLAS results: Compute Annual Indicators"},
    "description": {
        "en": "Compute the Annual Indicators (i.e. the calculated HEAT EQRS per indicator per year per assessment unit) using HELCOM's HEAT assessment code, for a selected HOLAS assessment period. For every assessment period, the configation and the spatial grid are predefined but you can specify how Chlorophyll-A is handled. Please provide a file containing combined and filtered samples (CTD, bottle and pump/ferrybox combined in one file) and please make sure the data you provide matches the selected period (assessment period). (TODO: How does the tool deal with non-matching time periods? E.g. choose HOLAS 2 but provide data for different time period? How should we deal with this? Should we prevent this? If yes, how?). This tool represents the third part of the original HEAT assessment computation script."
    },
    "jobControlOptions": ["sync-execute", "async-execute"],
    "keywords": ["HELCOM", "HEAT", "HOLAS"],
    "links": [{
        "type": "text/html",
        "rel": "about",
        "title": "GitHub repo for the original HEAT analysis",
        "href": "https://github.com/ices-tools-prod/HEAT/tree/master",
        "hreflang": "en-US"
    },
    {
        "type": "text/html",
        "rel": "about",
        "title": "GitHub repo for the continued HEAT analysis",
        "href": "https://github.com/AquaINFRA/HEAT/tree/aquabranch",
        "hreflang": "en-US"
    }],
    "inputs": {
        "assessment_period": {
            "title": "Assessment Period",
            "description": "The HOLAS assessment period which is used for the HEAT analysis. It can be HOLAS-2 (2011-2016) or HOLAS-3 (2016-2021) or custom for whole monitoring period (1877-9999). Note that assessment period defines the indicators used and integrations rules, where as the sample data needs to be defined separately. Allowed values: HOLAS-2, HOLAS-3, Other.",
            "schema": {
                "type": "string",
                "enum": [
                  "HOLAS-2",
                  "HOLAS-3",
                  "Other"
                ]
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "metadata": null,
            "keywords": ["HOLAS"]
        },
        "samples": {
            "title": "Station samples (combined)",
            "description": "Merged sample data of BOT, PMP and CTD data for indicator calculation (StationSamples.csv).",
            "schema": {"type": "string"},
            "minOccurs": 1,
            "maxOccurs": 1,
            "metadata": null, 
            "keywords": []
        },
        "combined_Chlorophylla_IsWeighted": {
            "title": "Chlorophyll A Weighted?",
            "description": "If true, script calculates combined chlorophyll a indicator results per assessment unit as a weighted average from BOT, PMP and EO. If false, then simple average.",
            "schema": {"type": "bool"},
            "minOccurs": 1,
            "maxOccurs": 1,
            "metadata": null, 
            "keywords": []
        }
    },
    "outputs": {
        "annual_indicators": {
            "title": "Annual Indicators Table",
            "description": "CSV file of calculated HEAT EQRS per indicator per year per assessment unit (AnnualIndicators.csv).",
            "schema": {
                "type": "object",
                "contentMediaType": "application/csv"
            }
        }
    },
    "example": {
        "inputs": {
            "assessment_period": "HOLAS-2",
            "combined_Chlorophylla_IsWeighted": true,
            "samples": "https://testserver.com/StationSamples.csv"
        }
    }
}
